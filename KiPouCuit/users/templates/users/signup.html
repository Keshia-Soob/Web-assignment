{% extends "base.html" %}
{% load static %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'users/css/signup.css' %}">

<div class="signup-wrapper">
    <!-- Left side image -->
    <div class="image-side">
        <img src="{% static 'users/images/pizza.jpg' %}" alt="Delicious Pizza">
    </div>

    <!-- Right side form -->
    <div class="form-side">
        <div class="form-container">
            <h2>Welcome to <span style="color:black;">KiPouCuit</span></h2>
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <p style="color: {% if message.tags == 'error' %}red{% else %}green{% endif %};
                                text-align: center;
                                font-weight: bold;">
                            {{ message }}
                        </p>
                    {% endfor %}
                </div>
            {% endif %}
            <form action="{% url 'signup' %}" method="POST">
                {% csrf_token %}

                <label for="first_name">First Name</label>
                <input type="text" id="first_name" name="first_name" placeholder="First name" required>

                <label for="last_name">Last Name</label>
                <input type="text" id="last_name" name="last_name" placeholder="Last name" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email"
                       placeholder="Email (must end with .com)"
                       pattern="^[^@\s]+@[^@\s]+\.com$"
                       title="Enter a valid email ending with .com"
                       required>


                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone"
                       value="+230"
                       pattern="^\+230[0-9]{8}$"
                       title="Phone number must start with +230 and be followed by 8 digits"
                       placeholder="+23012345678"
                       required>

                


                <label for="address">Address</label>
                <input type="text" id="address" name="address" placeholder="Add your delivery address" required>

                <label for="password">Password</label>
                <input type="password" id="password" name="password"
                       placeholder="At least 8 characters"
                       pattern=".{8,}"
                       title="Password must be at least 8 characters long"
                       required>

                <label for="confirm_password">Confirm Password</label>
                <input type="password" id="confirm_password" name="confirm_password"
                       placeholder="Confirm password" required>
                <p id="password-message" style="font-size: 0.9rem; margin-top: 4px;"></p>

                <button type="submit">Sign up</button>
            </form>


            <p class="login-text">Already have an account? <a href="{% url 'login' %}">Log in</a></p>
        </div>
    </div>
</div>


{% endblock %}
